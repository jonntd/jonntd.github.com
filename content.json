{"meta":{"title":"Jonn","subtitle":"代码搬运工","description":"Rigging | MEL | Python | MayaAPI | MayaPythonAPI |PyQt | C++ ...","author":"Jonn","url":"https://cgdreamwork.com","root":"/"},"pages":[{"title":"关于","date":"2021-03-23T07:56:54.161Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"about/index.html","permalink":"https://cgdreamwork.com/about/index.html","excerpt":"","text":"关于我爱生活，爱编程，Github 死忠（欢迎 Follow 和 Star）喜欢简洁的代码，扁平的设计，酷炫的动画… XD不喜欢篮球、羽毛球、跑步、健身等运动（有想法可以约喔 (╭￣3￣)╭）… 关于文章平时开发过程中的一些感悟和想法，皆为拙见如果有任何意见或建议可以评论或 发邮件 给我 联系方式 EMail： ** &#106;&#x6f;&#110;&#110;&#116;&#x64;&#x40;&#x67;&#109;&#97;&#105;&#108;&#46;&#x63;&#x6f;&#x6d; ** QQ： ** 948288788 **"},{"title":"分类","date":"2015-09-16T15:23:03.000Z","updated":"2021-03-23T07:56:54.161Z","comments":false,"path":"categories/index.html","permalink":"https://cgdreamwork.com/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2015-09-16T15:24:37.000Z","updated":"2021-03-23T07:56:54.161Z","comments":false,"path":"tags/index.html","permalink":"https://cgdreamwork.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"unity python api 使用","slug":"unityPython","date":"2021-03-23T15:04:25.000Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"2021/03/23/unityPython/","link":"","permalink":"https://cgdreamwork.com/2021/03/23/unityPython/","excerpt":"","text":"unity python 环境搭建&amp;常用使用方法注意： Unity 版本必须 2019.3 及以上Python 仅支持 2.7，并需要自行安装Windows 的话系统要求是Win 10， 1803 以及以上 安装：找到你工程中的 …/Packages/mainifest.json文件，在 dependencies 中加上 “com.unity.scripting.python”: “2.1.1-preview.1”, 添加并保存后，打开 window &gt; General &gt;Python Console,可以看到控制台窗口 在菜单 Edit &gt; Project Settings 中左栏就可以看到 Python for Unity 项，在页面中会显示当前的各种版本信息以及识别到你系统里的 Python，用maya 的python可以直接指认mayapy.exe 待续… 参考： https://qiita.com/tm8r/items/29d598231b793be6c6ea https://www.bilibili.com/read/cv5322840/ https://docs.unity3d.com/Packages/com.unity.scripting.python@2.1/manual/installation.html","categories":[{"name":"unity","slug":"unity","permalink":"https://cgdreamwork.com/categories/unity/"}],"tags":[{"name":"unity","slug":"unity","permalink":"https://cgdreamwork.com/tags/unity/"}]},{"title":"poseDeformerTest","slug":"poseDeformerTest","date":"2016-10-16T22:42:34.000Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"2016/10/16/poseDeformerTest/","link":"","permalink":"https://cgdreamwork.com/2016/10/16/poseDeformerTest/","excerpt":"Reference Hans Godard RBF Solver Reference comet poseDeformer Reference edward","text":"Reference Hans Godard RBF Solver Reference comet poseDeformer Reference edward","categories":[{"name":"Tools","slug":"Tools","permalink":"https://cgdreamwork.com/categories/Tools/"}],"tags":[{"name":"Deformer","slug":"Deformer","permalink":"https://cgdreamwork.com/tags/Deformer/"}]},{"title":"VS2013编译boost","slug":"Vs2013编译boost","date":"2016-09-08T20:02:12.000Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"2016/09/08/Vs2013编译boost/","link":"","permalink":"https://cgdreamwork.com/2016/09/08/Vs2013%E7%BC%96%E8%AF%91boost/","excerpt":"","text":"Usage : 1.Boost 下载 http://www.boost.org/ 2.解压Boost.zip到 D:\\boost_1_57_0 3.运行: Visual Studio 命令提示窗口 VS2013 x64 Cross Tools Command Prompt 4.执行: cd /d D:\\boost_1_57_0 5.执行: bootstrap.bat 此时会在该目录下生成b2.exe、bjam.exe、project-config.jam文件。 6.编译所有boost动态库执行: 1b2 stage --without-python --toolset&#x3D;msvc-12.0 --stagedir&#x3D;&quot;C:\\boost_1_57_0\\lib&quot; link&#x3D;static address-model&#x3D;64 variant&#x3D;release runtime-link&#x3D;static threading&#x3D;multi debug release 7.编译单个执行: 1b2 stage --with-filesystem --toolset&#x3D;msvc-12.0 --stagedir&#x3D;&quot;C:\\boost_1_57_0\\lib&quot; link&#x3D;static address-model&#x3D;64 variant&#x3D;release runtime-link&#x3D;static threading&#x3D;multi debug release 8.编译zlib: 下载解压： 执行: set ZLIB_SOURCE=&quot;D:\\Windows\\zlib-1.2.8&quot; 1b2 --with-iostreams --toolset&#x3D;msvc-12.0 --stagedir&#x3D;&quot;C:\\boost_1_57_0\\lib&quot; link&#x3D;static address-model&#x3D;64 variant&#x3D;release runtime-link&#x3D;static threading&#x3D;multi debug release 9.编译python: 执行: 1b2 stage --with-python --toolset=msvc-12.0 --stagedir=&quot;C:\\boost_1_57_0\\lib&quot; link=shared address-model=64 variant=release runtime-link=shared threading=multi debug release 1234&gt; 文件头添加 #define BOOST_PYTHON_STATIC_LIB&gt; &gt; lib 手动添加 libboost_python-vc120-mt-s-1_57.lib 参数：--build-dir=&lt;builddir&gt; 编译的临时文件会放在builddir里(编译完就可以把它删除了) --stagedir=&lt;stagedir&gt; 存放编译后库文件的路径，默认是stage --build-type=complete 编译所有版本，不然只会编译一小部分版本（相当于: variant=release,threading=multi; link=shared|static;runtime-link=shared） variant=debug|release 决定编译什么版本(Debug or Release) link=static|shared 决定使用静态库还是动态库 threading=single|multi 决定使用单线程还是多线程库 runtime-link=static|shared 决定是静态还是动态链接C/C++标准库 --with-&lt;library&gt; 只编译指定的库，如输入--with-regex就只编译regex库了 --show-libraries 显示需要编译的库名称 --without-python 不编译python address-model=64 编译64位 --toolset=msvc-12.0 VS 版本 --stagedir lib 输出路径 --with-filesystem 编译单个lib 生成文件的分析 （1）生成 Release 版本，多线程，动态链接C++标准库 的regex 动态库 1b2 stage --toolset=msvc-12.0 --stagedir=&quot;C:\\boost_1_57_0\\lib&quot; --with-regex link=shared threading=multi variant=release runtime-link=shared – 输出： boost_regex-vc90-mt.lib boost_regex-vc90-mt-1_44.lib boost_regex-vc90-mt-1_44.dll （2）生成 Release 版本，多线程，动态链接C++标准库 的regex静态库 1b2 stage --toolset=msvc-12.0 --stagedir=&quot;C:\\boost_1_57_0\\lib&quot; --with-regex link= static threading=multi variant=release runtime-link=shared – 输出： libboost_regex-vc90-mt-s.lib libboost_regex-vc90-mt-1_44.lib （3）生成 Release 版本，多线程，静态链接C++标准库 的regex 静态库 1b2 stage --toolset=msvc-12.0 --stagedir=&quot;C:\\boost_1_57_0\\lib&quot; --with-regex link=static threading=multi variant=release runtime-link=static – 输出： libboost_regex-vc90-mt-s.lib libboost_regex-vc90-mt-s-1_44.lib","categories":[{"name":"Visual Studio","slug":"Visual-Studio","permalink":"https://cgdreamwork.com/categories/Visual-Studio/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://cgdreamwork.com/tags/C/"},{"name":"boost","slug":"boost","permalink":"https://cgdreamwork.com/tags/boost/"}]},{"title":"DeleteUvSets","slug":"DeleteUvSets","date":"2016-09-01T15:04:25.000Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"2016/09/01/DeleteUvSets/","link":"","permalink":"https://cgdreamwork.com/2016/09/01/DeleteUvSets/","excerpt":"Usage: Delete UvV Sets and rename last uvset","text":"Usage: Delete UvV Sets and rename last uvset code:12345678910111213141516171819import maya.cmds as cmdsdef DeleteUvSets(newUVSet,sels): for mesh in sels: set = cmds.polyUVSet(mesh, query=True, allUVSets=1 ) for i in range(len(set)): if i&gt;0: cmds.polyUVSet(mesh, delete=True, uvSet=set[i]) try: cmds.polyUVSet(mesh,rename=True, newUVSet=newUVSet, uvSet= cmds.polyUVSet(mesh, currentLastUVSet=True )[0]) except: passsels = cmds.ls(sl=1)newUVSet=&#x27;map1&#x27;DeleteUvSets(newUVSet,sels)","categories":[{"name":"code","slug":"code","permalink":"https://cgdreamwork.com/categories/code/"}],"tags":[{"name":"Maya","slug":"Maya","permalink":"https://cgdreamwork.com/tags/Maya/"},{"name":"UV","slug":"UV","permalink":"https://cgdreamwork.com/tags/UV/"}]},{"title":"Adding a QMenu to Maya","slug":"Adding-a-QMenu-to-Maya","date":"2016-08-25T22:19:08.000Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"2016/08/25/Adding-a-QMenu-to-Maya/","link":"","permalink":"https://cgdreamwork.com/2016/08/25/Adding-a-QMenu-to-Maya/","excerpt":"snake大大遇到的问题 记录一下 Adding a QMenu to Maya https://groups.google.com/forum/#!forum/python_inside_maya","text":"snake大大遇到的问题 记录一下 Adding a QMenu to Maya https://groups.google.com/forum/#!forum/python_inside_maya code:12345678910111213141516171819202122232425import shibokenfrom PySide import QtGui, QtCoreimport maya.OpenMayaUI as apiUIdef getMayaWindow(): ptr = apiUI.MQtUtil.mainWindow() if ptr is not None: return shiboken.wrapInstance(long(ptr), QtGui.QMainWindow)def addMenuItem(mayaWindow=None, title=&#x27;&#x27;): mainMenu = QtGui.QMenu(title) menu = mayaWindow.menuBar().addMenu(mainMenu) return mainMenudef addMenuAction(menu=None, title=&#x27;&#x27;, action=&#x27;&#x27;): return menu.addAction(action)def addSeparator(menu): return menu.addSeparator()mayaWindow = getMayaWindow()mainMenu = addMenuItem(mayaWindow, &#x27;TESTING&#x27;)for a in range(20): addMenuAction(mainMenu, title=&#x27;&#x27;, action=&#x27;TESTING%s&#x27;%str(a)) if not a % 5: addSeparator(mainMenu)","categories":[{"name":"code","slug":"code","permalink":"https://cgdreamwork.com/categories/code/"}],"tags":[{"name":"Qt","slug":"Qt","permalink":"https://cgdreamwork.com/tags/Qt/"},{"name":"QMenu","slug":"QMenu","permalink":"https://cgdreamwork.com/tags/QMenu/"},{"name":"Maya","slug":"Maya","permalink":"https://cgdreamwork.com/tags/Maya/"},{"name":"PySide","slug":"PySide","permalink":"https://cgdreamwork.com/tags/PySide/"}]},{"title":"Not-symmetry-mesh-mirror-shape-Node","slug":"Not-symmetry-mesh-mirror-shape-Node","date":"2016-08-25T00:00:00.000Z","updated":"2021-03-23T07:56:54.161Z","comments":true,"path":"2016/08/25/Not-symmetry-mesh-mirror-shape-Node/","link":"","permalink":"https://cgdreamwork.com/2016/08/25/Not-symmetry-mesh-mirror-shape-Node/","excerpt":"Reference RomanVldn mirrorShape Plug Rewritten using barycentric coordinates algorithm Added some own ideas","text":"Reference RomanVldn mirrorShape Plug Rewritten using barycentric coordinates algorithm Added some own ideas Usage:There are two versions of the plugin available for testing and usage. Download one of them and place it in MAYA_PLUG_IN_PATH folder. “symmetryPlane” or “sym” that is used to define the plane of the symmetry (XZ, YZ, XY) Make sure the plugin has been loaded via pluginManager First select a base mesh (in the center of the scene), then select the second (modified) mesh and run the next script 12345678910111213141516171819202122232425262728293031323334import maya.cmds as cmdsdef mirrorShapeCmd(baseMesh=None, targetMesh=None,symmetryPlane = &quot;YZ&quot;): &#x27;&#x27;&#x27; DESCRIPTION: # ================ # mirrorShapeCmd # ================ ARGUMENTS: baseMesh= &quot;origMesh&quot; targetMesh=&quot;targetMesh&quot; RETURN: MirrorMeshTarget &#x27;&#x27;&#x27; mc.undoInfo(openChunk=True) if not baseMesh or not targetMesh: sel = mc.ls(sl=True) baseMesh,targetMesh = sel lock_attr = lambda node,b:[cmds.setAttr(&#x27;%s.%s%s&#x27; %(node,a,aa),l=b) for a in &#x27;trs&#x27; for aa in &#x27;xyz&#x27;] duplicatebaseMesh = cmds.duplicate( baseMesh,rr=1,n=&#x27;MirrorShape#&#x27;)[0] cmds.setAttr(&#x27;%s.v&#x27; %duplicatebaseMesh ,0) lock_attr(duplicatebaseMesh,0) cmds.xform(duplicatebaseMesh,ws=1,t=[0, 0, 0]) #cmds.refresh() cmds.select(duplicatebaseMesh,targetMesh) cmds.CGmirrorShape(symmetryPlane=symmetryPlane) bdingBx = cmds.polyEvaluate(targetMesh, boundingBox = True) xDifVal = bdingBx[0][1] - bdingBx[0][0] cmds.xform(duplicatebaseMesh, ws = 1, t = cmds.xform(targetMesh, q = 1, t = 1, ws = True)) cmds.move(xDifVal*2.20, duplicatebaseMesh, r = True, moveX = True) cmds.setAttr(&#x27;%s.v&#x27; %duplicatebaseMesh ,1) mc.undoInfo(closeChunk=True) return duplicatebaseMeshmirrorShapeCmd(baseMesh=None, targetMesh=None,symmetryPlane = &quot;YZ&quot;) DownLoad","categories":[{"name":"Tools","slug":"Tools","permalink":"https://cgdreamwork.com/categories/Tools/"}],"tags":[{"name":"Deformer","slug":"Deformer","permalink":"https://cgdreamwork.com/tags/Deformer/"}]}],"categories":[{"name":"unity","slug":"unity","permalink":"https://cgdreamwork.com/categories/unity/"},{"name":"Tools","slug":"Tools","permalink":"https://cgdreamwork.com/categories/Tools/"},{"name":"Visual Studio","slug":"Visual-Studio","permalink":"https://cgdreamwork.com/categories/Visual-Studio/"},{"name":"code","slug":"code","permalink":"https://cgdreamwork.com/categories/code/"}],"tags":[{"name":"unity","slug":"unity","permalink":"https://cgdreamwork.com/tags/unity/"},{"name":"Deformer","slug":"Deformer","permalink":"https://cgdreamwork.com/tags/Deformer/"},{"name":"C++","slug":"C","permalink":"https://cgdreamwork.com/tags/C/"},{"name":"boost","slug":"boost","permalink":"https://cgdreamwork.com/tags/boost/"},{"name":"Maya","slug":"Maya","permalink":"https://cgdreamwork.com/tags/Maya/"},{"name":"UV","slug":"UV","permalink":"https://cgdreamwork.com/tags/UV/"},{"name":"Qt","slug":"Qt","permalink":"https://cgdreamwork.com/tags/Qt/"},{"name":"QMenu","slug":"QMenu","permalink":"https://cgdreamwork.com/tags/QMenu/"},{"name":"PySide","slug":"PySide","permalink":"https://cgdreamwork.com/tags/PySide/"}]}